<div class="search-section">
  <form (ngSubmit)="searchBook(userInput.value)">
    <input #userInput type="text" placeholder="Search any book" class="book-search" />
    <button type="submit" class="search-button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        fill="white"
        class="bi bi-search"
        viewBox="-1 -1 18 18"
      >
        <path
          stroke="white"
          stroke-width="1.2"
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"
        />
      </svg>
    </button>
  </form>
  <div class="home" *ngIf="books.length === 0">
    <div class="center-home">
      <p>Ready to Start Your<br/>next Chapter?</p>
      <img class="home-stack" src="assets/home-stack.png"/>
    </div>
    <div class="bottom-home">
      <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6559bb" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
  <circle cx="11" cy="11" r="8"></circle>
  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
</svg>Search</p>
      <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6559bb" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
  <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
</svg>Track</p>
      <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6559bb" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <polyline points="20 6 9 17 4 12"></polyline>
</svg>Finish</p>
    </div>
  </div>
  <div class="book-grid">
    <div class="book-card" *ngFor="let b of books" (click)="openModal(b)">
      <div class="card-image">
        <img [src]="b.image" [alt]="b.title" />
      </div>
      <div class="card-content">
        <h3 class="title">{{ b.title }}</h3>
        <p class="author">By: {{ b.authors }}</p>
        <p class="description truncate-multiline">{{ b.description }}</p>

        <div class="card-footer">
          <span>Pages: {{ b.totalPage }}</span>
          <span>Rating: ‚≠ê {{ b.ratings }}</span>
        </div>
        <p class="date">Published: {{ b.publishedDate }}</p>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="selectedBook" (click)="closeModal()">
  <div class="modal-card" (click)="$event.stopPropagation()">
    <button class="close-icon" (click)="closeModal()">&times;</button>

    <div class="modal-header">
      <img [src]="selectedBook.image" [alt]="selectedBook.title" />
      <div class="header-text">
        <h2>{{ selectedBook.title }}</h2>
        <p class="modal-author"><strong>Author:</strong> {{ selectedBook.authors }}</p>
        <div class="stats">
          <span>üìÑ <strong>Pages:</strong> {{ selectedBook.totalPage }}</span>
          <span>‚≠ê <strong>Rating:</strong> {{ selectedBook.ratings }}</span>
          <span>üìÖ <strong>Published:</strong> {{ selectedBook.publishedDate }}</span>
          <br/>
          <button class="add-lib-btn" (click)="addToLibrary(selectedBook)">+ Add to Library</button>
        </div>
      </div>
    </div>

    <div class="modal-body">
      <h3>Description</h3>
      <p class="full-description">{{ selectedBook.description }}</p>
    </div>
  </div>
</div>
